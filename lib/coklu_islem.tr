// ---------------------------------------------------------
// GUMUS PARALEL ISLEM (coklu_islem.tr)
// Cok cekirdekli islem ve asenkron gorev yonetimi
// ---------------------------------------------------------

// Is parcacigi (Thread) soyutlamasi
sinif IsParcacigi {
    deÄŸiÅŸken gorev_id
    deÄŸiÅŸken calisiyor_mu
    deÄŸiÅŸken islem_fonksiyonu

    kurucu(fonk_adi) {
        öz.islem_fonksiyonu = fonk_adi
        öz.calisiyor_mu = yanlÄ±ÅŸ
        öz.gorev_id = -1
    }

    fonksiyon baslat(parametreler) {
        öz.calisiyor_mu = doÄŸru
        // Native thread baslatma cagrisi burada yapilirdi
        yazdÄ±r("[CPU] Is parcacigi baslatildi: " + öz.islem_fonksiyonu)
    }

    fonksiyon bekle() {
        // Thread join islemi
        yazdÄ±r("[CPU] Is parcacigi bekleniyor...")
        öz.calisiyor_mu = yanlÄ±ÅŸ
    }
}

// Kilit (Mutex) mekanizmasi
sinif Kilit {
    deÄŸiÅŸken kilitli_mi
    
    kurucu() {
        öz.kilitli_mi = yanlÄ±ÅŸ
    }

    fonksiyon kilitle() {
        eÄŸer (öz.kilitli_mi) {
            yazdÄ±r("[CPU] Kaynak mesgul, bekleniyor...")
        }
        öz.kilitli_mi = doÄŸru
    }

    fonksiyon serbest_birak() {
        öz.kilitli_mi = yanlÄ±ÅŸ
    }
}

// Paralel dÃ¶ngÃ¼ yardimcisi
fonksiyon paralel_dongu(baslangic, bitis, islem_fonksiyonu) {
    yazdÄ±r("[CPU] Paralel dÃ¶ngÃ¼ baslatiliyor (" + metin(baslangic) + " -> " + metin(bitis) + ")")
    // Cekirdek sayisina gore bolup dagitma simulasyonu
}

